title: Vim 怎么配置成 IDE
date: 2016-03-20 23:15:47
tags: vim
---


从我用 Vim 做主力代码生产工具，就一直看到这样的问题：Vim 如何配置得像 IDE 一样好用。今天就讨论一下这个问题吧。

<!--more-->

首先，罗列一下 IDE 的特别之处：

* 项目文件树形管理
* 代码结构动态索引
* 自动补全结构，自动检测语法
* 批量格式化，重构
* 内置shell，一键运行，debug
* 集成git等版本管理工具

那么，Vim 想做到以上几点，是否可行呢?

根据我的经验，可以分为三个等级，1 - 轻松实现，无代价。 2 - 可实现，有代价， 3 - 变相实现，代价较大，4 - 无法实现。那么来观察一下：

- 项目文件树形管理 （1）
- 代码结构动态索引 （4）
- 自动补全结构，自动检测语法 （2）
- 批量格式化，重构 （1）
- 内置shell，一键运行，debug （2）
- 集成git等版本管理工具 （2）

可以看出来，对于编辑见长的部分，Vim 都可以很好的实现。但是对于需要动态处理的部分，Vim 这种单进程无后台的编辑器就捉襟见肘了。那么 Vim 到底适合不适合做 IDE 呢。

我的答案是，Vim 如果能替代 IDE，那怎么会有 IDE 的生存空间呢？（一句废话，且听我解释）对于编辑性能高于调试性能的要求的程序员，建议用 Vim 去掉那些多余的拖累性能的（如语法检查，自动补全，跳转等）插件，用人来实现额外的自动化功能。对于调试要求高的程序员，推荐使用 IDE，一天写不了几行代码，却要付出高昂的代价来看一大堆项目文件，Vim 真的不适合你。

说到根本，程序员对于生产代码的工具，大致有两种主流观点：

1. 大而全，包容万物，随意DIY
2. 小而精，效率至上，任意组合

那么我认为，Vim 一打生下来，就是走第二条路线的。刻意把它打造的大而全是毫无意义的。包括那些牺牲效率的语法检查，自动补全，自动跳转等插件，都是得此失彼，用 Vim 最有意义的方面（效率） 换来所谓的功能多。但是再多又怎么会比得上 IDE 呢。

那么说到大而全，还有个异类，emacs。这玩意基本是一个lisp语言解释器，操作系统能干的事儿，它几乎都代劳了。 这种编辑器最大的好处就是所有工具我自己来实现，这样工具之间互相调用能够实现任何快捷操作，类似 OSX 上的 workflow。似乎有些人就偏执于操作巨大的机器，像电影蒸汽男孩里的博士父亲一样，用巨大的蒸汽城展示给世人科学的威力。也许emacs党们也是这种心态，看，我的编辑器无所不能。

最后劝新手放弃 Vim 转 IDE 的人，和劝人用 Vim 的人一样，都是不考虑使用者需求，用主观判断替使用者做决定的。工具归工具，要考虑场景。
